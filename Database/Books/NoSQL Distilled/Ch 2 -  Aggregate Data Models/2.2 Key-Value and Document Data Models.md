The two models differ in that in a key-value database, the aggregate is opaque to the databaseâ€”just some big blob of mostly meaningless bits. In contrast, a document database is able to see a structure in the aggregate. The advantage of opacity is that we can store whatever we like in the aggregate. The database may impose some general size limit, but other than that we have complete freedom.

A document database imposes limits on what we can place in it, defining allowable structures and types. In return, however, we get more flexibility in access.

With a key-value store, we can only access an aggregate by lookup based on its key. With a document database, we can submit queries to the database based on the *fields in the aggregate*, we can retrieve part of the aggregate rather than the whole thing, and the database can create indexes based on the contents of the aggregate. People often put an ID field in a document database to do a key-value style lookup.